extends ../../_common/views/layout-hub

block content
    .container
        .row 
            .col-2
            .col-8

                .row(style="margin-top: 0px;")
                    .col-12(style="margin: auto;")
                        a(href="/hub" style="float: right; margin-bottom: 10px;") ‚¨ÖÔ∏è Retour au hub
                .card(style="border-radius: 10px; margin-bottom: 10px;")
                    .card-body 
                        img(src="/images/treasure-skull.png" style="float: left;  height: 100px; margin-right: 10px;")
                        p#ideMessage.animate__animated.animate__flash.animate__infinite(style="font-weight: bold; float: left; min-height: 100px; max-width: 80%")
                            | üÅ¢
                        br
                        p(style="width: 100%; float: left;")
                            a(href="/game-ide/instructions" target="_blank" class="btn btn-secondary") üìú R√®gles du jeu
                .row
                    .col-12
                        button.btn.btn-primary.saveBtn(style="float: right; margin-bottom: 10px;")  üíæ Enregistrer l'IA 
                .row
                    #editor.editor
                .row
                    .col-12
                        button.btn.btn-primary.saveBtn(style="float: right; margin-top: 10px; margin-bottom: 50px;")  üíæ Enregistrer l'IA 
        .row(style="margin-top: 10px;")
            .col-8(style="margin: auto; padding: 40px; background: #fff; border-radius: 10px;")
                h4 Fonctions disponibles pour l'IA :
                br
                p Votre IA va √™tre appel√©e √† chaque tour de jeu, lorsque c'est √† vous de jouer. Elle doit, √† la fin de sa r√©flexion, effectuer l'une des deux actions suivantes :
                ul(style="margin-top: 0px;")
                    li
                        b window.bet(newbet) 
                        | : Cette fonction permet √† l'IA de placer un pari. "newbet" est param√®tre que vous devrez transmettre. Ce param√®tre doit √™tre sous la forme d'un tableau constitu√© de deux √©l√©ments: "[nombre de d√©s, valeur du d√©]". La fonction retourne "true" si le pari envoy√© est valide et bien pris en compte par le serveur, sinon elle renvoie "false".
                    li
                        b window.objection() 
                        | : Cette fonction permet √† l'IA de contester un pari pr√©c√©dent. C'est le fameux "Dudo". Elle renvoie "true" si la contestation est envoy√©e est valide (faite au bon moment du jeu) et prise en compte par le serveur, sinon elle renvoie "false".
                p
                | Si l'une de ces deux fonctions retourne "false", cela signifie que l'action tent√©e par votre IA n'est pas valide. Apr√®s 5 tentatives invalides, une action par d√©faut sera ex√©cut√©e √† la place, pour le ne pas bloquer le jeu ind√©finiement.
                
                h4(style="margin-top: 20px;") Donn√©es disponibles pour l'IA :
                p Vous avez acc√®s √† plusieurs variables qui vous permettront de prendre votre d√©cision. Ces variables sont accessibles via le param√®tre "data" re√ßu. Voici la liste des donn√©es disponibles :
                ul
                    li  
                        b playerList 
                        | : Liste des joueurs. 
                    li    
                        b actualManche 
                        | : Num√©ro de la manche actuelle. 
                    li    
                        b actualRound 
                        | : Num√©ro du round actuel.
                    li    
                        b actualBet 
                        | : Pari actuel.
                    li    
                        b actualtotalDices 
                        | : Nombre total de d√©s en jeu.
                    li    
                        b actualPlayerIndex 
                        | : Index du joueur actuel.
                    li    
                        b playerDices 
                        | : D√©s du joueur.
                    li    
                        b isSpecialManche 
                        | : Un bool√©en indiquant si c'est la manche sp√©ciale.
                p Vous pouvez sauvegarder vos donn√©es en localStorage par exemple pour les r√©utiliser plus tard. √Ä vous d'√™tre cr√©atif et d'imaginer la meilleure strat√©gie pour battre les autres joueurs... humains et IA !    
                
        .row 
            br
    
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js')
    script(src='/IDE-lib/ace.js')
    script(src='/IDE-lib/theme-monokai.js')
    script(src="/scripts/game-IDE-client.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.3/socket.io.js")
    link(rel='stylesheet', href='/stylesheets/game-IDE.css', type="text/css")
    script. 
        $(document).ready(async function(){
            $.get("/api/parrot/ide", function(data) {
                animateTypingText("#ideMessage", data);
            });
        });